{
  "type": "bloodmagic:arc",
  "name": "Alchemical Reaction Chamber",
  "category": "Blood Magic",
  "inputs": [
    {
      "type": "ingredient",
      "path": "input",
      "path:count": "inputsize",
      "gridx": 0,
      "gridy": 0
    },
    {
      "type": "ingredient",
      "path": "tool",
      "gridx": 1,
      "gridy": 0.5,
      "single": true
    },
    {
      "type": "ingredient",
      "path": "inputFluid",
      "gridx": 0,
      "gridy": 1,
      "single": true,
      "allowitem": false,
      "allowtag": false,
      "allowfluid": true,
      "allowfluidtag": true,
      "style": "bucket",
      "maxfluid": 32000
    }
  ],
  "outputs": [
    {
      "type": "itemstack",
      "path": "output",
      "gridx": 2.5,
      "gridy": 0.5,
      "allowtag": false,
      "members": [
        {
          "path": "mainoutputchance",
          "type": "number",
          "label": "Chance %",
          "flags": "right",
          "display": "percent top-left"
        }
      ]
    },
    {
      "type": "itemstack",
      "path": "addedoutput",
      "path:item": "type",
      "gridx": 3.5,
      "gridy": 0.5,
      "allowtag": false,
      "repeat": {
        "shape": "array",
        "rows": 1,
        "cols": 3
      },
      "members": [
        {
          "path": "chance",
          "type": "number",
          "label": "Chance %",
          "flags": "right",
          "display": "percent top-left"
        },
        {
          "path": "mainchance",
          "type": "number",
          "label": "Main %",
          "flags": "right"
        }
      ]
    },
    {
      "path": "outputFluid",
      "gridx": 7,
      "gridy": 0.5,
      "style": "bucket",
      "allowitem": false,
      "allowtag": false,
      "allowfluid": true,
      "maxfluid": 32000
    }
  ],
  "parameters": [
    {
      "path": "consumeingredient",
      "label": "Consume Ingredient?",
      "type": "boolean",
      "gridx": 6,
      "gridy": 3
    },
    {
      "path": "mainoutputchance",
      "label": "Main Output Chance",
      "type": "number",
      "gridx": 6,
      "gridy": 4,
      "gridw": 3
    }
  ],
  "templates": [
    {
      "name": "KubeJS Custom",
      "format": "kubejs",
      "snippets": [
        {
          "title": "Comment",
          "condition": "comment",
          "fragment": "// <<description:output>>"
        },
        {
          "title": "Create",
          "fragment": "event.custom(<<template:JSON>>);"
        },
        {
          "title": "Delete",
          "condition": "remove",
          "fragment": "event.remove({id:\"<<oldid>>\"});"
        }
      ]
    },
    {
      "name": "JSON",
      "format": "json",
      "snippets": [
        {
          "title": "Datapack",
          "fragments": [
            "{",
            "\"type\":\"<<type>>\"",
            ",\"input\":<<ingredient:input>>",
            ",\"output\":<<itemstack:output>>"
          ]
        },
        {
          "title": "inputsize",
          "condition": "item-count:input",
          "fragment": ",\"inputsize\":<<item-count:input>>"
        },
        {
          "title": "consumeingredient",
          "condition": "parameter:consumeingredient:not:false",
          "fragment": ",\"consumeingredient\":<<parameter:consumeingredient>>"
        },
        {
          "title": "tool",
          "condition": "present:tool",
          "fragment": ",\"tool\":<<ingredient:tool>>"
        },
        {
          "title": "inputFluid",
          "condition": "present:inputFluid",
          "fragment": ",\"inputFluid\":<<ingredient:inputFluid>>"
        },
        {
          "title": "mainoutputchance",
          "condition": "parameter:mainoutputchance:not:0",
          "fragment": ",\"mainoutputchance\":<<parameter:mainoutputchance>>"
        },
        {
          "title": "addedoutput",
          "condition": "present:addedoutput",
          "fragment": ",\"addedoutput\":<<itemstacks:addedoutput>>"
        },
        {
          "title": "outputFluid",
          "condition": "present:outputFluid",
          "fragment": ",\"outputFluid\":<<fluidstack:outputFluid>>"
        },
        {
          "title": "closing",
          "fragment": "}"
        }
      ]
    }
  ]
}